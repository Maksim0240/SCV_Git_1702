# Инструкция по работе с Git

## 1. Проверка наличия установленного Git

Для проверки наличия установленного Git необходимо в терминале выполнить команду `git version`
В том случае, если Git установлен, появится сообщение с описание установленной версии программы Git. Если же Git не был установлен, то получим сообщение об ошибке.

 ## 2. Установка Git
 Загружаем последнюю версию Git с https://git-scm.com/downloads

 ## 3. Настройка Git
 При первом использовании необходимо представиться. Для этого необходимо ввести в терминале две комнады: 
 ```
 git config --global user.name "Ваше имя"
 git config --global user.email "email@example.com"
 ```
 ## 4. Инициализация репозитория
 Работая в   `Visual Studio Code` ,  через меню  `File` откройте папку, в которой будет ваш репозитрий.   Откройте `Terminal` в   `Visual Studio Code`. Находясь в терминале, введите команду `git init`. Репозиторий в выбранной папке будет инициализирован.

 ## 5. Запись изменений в репозитории
### 5.1. git add
 Находясь внутри папки, в которой вы создали репозиторий, создайте файл, с которым вы будете работать в Git. Следующим вашим шагом будет добавление этого файла в репозиторий. Для добавления файла в репозиторий введите команду `git add filename.md` (При применении команды git add необходимо добавлять имя вашего фала с указанием его расширения). Файл будет добавлен в репозиторий. 
 ### 5.2. git status 
 Теперь предположим, что вы поработали с этим файлом, внеся в него изменения. После внесения изменений обязательно не забудьте сохранить файл. После этого в терминале введите команду `git status`. Вы увидите сообщение об изменениях, внесённых в ваш файл, которые необходимо добавить в индекс для последующего коммита - сохранения. При этом в сообщении будет видна красная надпись с именем вашего файла. 
 
 Если сейчас вы снова введёте команду `git add filename.md`, то все сохраненные изенения в вашем файле будут добавлены в индекс для коммита. То есть, все сохранённые изменения будут подготовлены для сохранения в Git. 
  
  Снова введите команду `git status`. И вы увидите сообщение о том, что изменения внесённые в ваш файл, готовы к сохранению. При этом в сообщении будет видна зеленая надпись с именем вашего файла.

  ### 5.3. git commit 
  Для создания сохраненного состояния вашего файла введите в терминале команду `git commit -m "Описание сохраняемых изменений и добавлений в файле"`. Прграмма создаст коммит, то есть сохраненное состояние файла, о чём вы сможете прочитать в соответствующем сообщении. В этом сообщении будут указаны: 
  #### - уникальное имя сохранения,
  #### - автор сохранения,
  #### - дата и время сохранения,
  #### - ваш комментарий к сохранению.

Ещё раз введите команду `git status`. Вы увидите сообщение об отстутствии изменений для очередного сохранения. После этого внесите в файл изменения и сохраните их. 

### 5.4. git diff
Теперь введите команду `git diff`.  И программа выдаст сообщение с указанием тех изменений, которые вы внесли в файл и сохранили в файле с момента последнего коммита. То есть, программа покажет вам разницу с последним коммитом.

После этого командой `git add filename.md` подготовьте версию файла к коммиту и командой `git commit -m "Комментарии"` создайте новое сохранение.

Если теперь вы введёте команду `git diff`, то программа покажет отсутствие изменений, то есть отсутствие какой-либо разницы с последним коммитом.

## 6. Просмотр истории коммитов
Теперь, чтобы вам не запутаться во множестве сохраненных состояний вашего файла (коммитов), используйте команду `git log`. Программа выдаст вам список всех коммитов.

## 7. Перемещение между сохранениями
А с помощью команды `git checkout` вы сможете переходить к любому закоммиченному состоянию файла. Для этого в списке, полученном после применения команды `git log` выберите сохраненное сосотояние (коммит), введите команду `git checkout и не менее 4-ёх первых симоволов имени коммита через пробел`. Программа перекинет вас к тому соостоянию файла, которое было закомичено. Вы сможете проверить это по вашему файлу.

```
ВНИМАНИЕ!
``` 
Чтобы не потерять никакие изменения в проекте, необходимо `всегда возвращаться в актуальное сохранение`, используя скоманду `git checkout`. Иначе при следующей работе с проектом можно случайно начать вносить изменения в неактуальную версию файла, перечеркнув таким образом усилия и прогресс, достигнутый в последнем актуальном коммите.

## 8. Игнорирование файлов
Иногда в вашем проекте могут появиться файлы или каталоги, которые по разным причинам не должны попадать в коммиты. Такие файлы называются `игнорируемыми`. Чтобы Git игнорировал эти файлы, необходимо в репозитории создать текстовый файл `.gitignore`, в каждой строке которого записаны текстовые шаблоны файлов или каталогов, которые нужно игнорировать. Для того, чтобы сделать файл игнорируемым, необходимо в файле `.gitignore` вручную дописать шаблон файла или каталога, которые необходимо игнорировать.

## 9. Работа с ветками
Часто при работе с проектом бывает недостаточно одной ветки коммитов. Например, когда  с проектом работают два человека, автор и редактор, удобней будет иметь две ветки коммитов: 
#### - в одной ветке будут содержаться коммиты черновых вариантов текста, 
#### - а в другой ветке будут содержаться коммиты чистовых вариантов текста. Эти чистовые варианты будет формировать редактор, внося изменения в черновики, получаемые из первой ветки.

### 9.1. Вызов списка веток
Команда `git branch` выведет на экран список имеющихся веток. При этом напротив той ветки, в которой вы сейчас находитесь, будет стоять `*`.
### 9.2. Создание новой ветки
Для создания новой ветки наберите команду `git branch branchename` (`git branch` и название вновь создаваемой ветки). После создания новой ветки команда `git branch` покажет название этой ветки в списке веток.
### 9.3. Переход между ветками
Для перехода на нужную вам ветку введите команду `git checkout branchname` (`git checkout` и название ветки, в которую нужно перейти).
### 9.4. Слияние веток
Для переноса прогресса, достигнутого в работе над проектом из одной ветки в другую используют слияние веток. Для выполнения слияния двух веток вам необходимо перейти в ту ветку, в которую вы собираетесь добавлять информацию. Сделайте это при помощи уже известных вам команд:
#### - `git status` - применив эту команду, вы увидете  в какой ветке вы находитесь;
#### - `git checkout master` - при помощи этой команды вы перейдёте в нужную вам ветку; в данном случае это будет ветка `master`.
И, перейдя в ту ветку, в которую вы будете добавлять изменения из другой ветки, введите команду ` git merge branchname` (`git merge` и `имя той ветки, из которой вы переносите изменения в вашу ветку`).
### 9.5. Удаление ветки
После переноса изменений в основную ветку может поличиться так, что ветка, в которой вы создвали все эти изменения, становится уже не нужна. Её можно удалить. Для удаления ветки введите команду `git branch -d branchname` (`git branch -d и `имя ветки, которую необходимо удалить`).

Обратите внимание, что в лучше всего будет использовать в этой команде именно маленькую `-d`, а не большую `-D`. Несмотря на то, что `-D` тоже допускается, для перестраховки лучше ставить маленькую `-d`, потому при использовании в команде удаления ветки маленькой `-d` удаление произойдёт ТОЛЬКО, если удаляемая ветка уже полностью влита в какую-то другую ветку. Поэтому, применяя `-d`, вы не рискуете случайно потерять накопленный прогресс в работе с проектом.
### 9.6. Конфликты при слиянии веток и разрешение этих конфликтов 
При слиянии веток может получиться так, что один и тот же фрагмент текста в разных ветках будет написан по разному. В таком случае при выполнении слияния веток командой `git merge` вы получите сообщение о конфликте. GIT покажет вам два фрагмента текста, которые были написаны по разному в разных ветках, и предложит вам самостоятельно разрешить возникший конфликт. Вариант из текущей ветки будет называться `current change`. А вариант из ветки, которую вы сливаете в текущую ветку будет называться `incoming change`. 
Если вы работаете в Visual Studio Code, при возникновении конфликта программа предложит вам четыре варианта разрешения конфликта:
#### - `Accept Current Change` оставить вариант из текущей ветки;
#### - `Accept Incoming Change` оставить вариант из сливаемой ветки;
#### - `Accept Both Changes` оставить оба варианта;
#### - `Compare Changes` сравнить варианты.
И вам придётся вручную выбрать один из этих вариантов. Например, вы можете оставить оба варианта, но потом вручную отредактировать текст. После этого добавляйте изменения в индекс и делайте коммит.

## 10. Работа с изображениями
Для того, чтобы вставить изображение, напишите следующее:
![Логотип GeekBrains](GB1.png), где 
#### - в квадратных скобках вы указываете текст-напоминание о добавляемом изображении (этот тект появится в Preview документа документа на месте изображения, если это изображение по какой-то причине будет отсутствовать в документе),
#### - а в круглых скобках, в том случае, если вы поместили изображение в ту же папку, что и файл markdown, вы записываете имя файла с указанием расширения.

## 11. Работа с удалёнными репозиториями
Когда вы работаете над проектом совместно с другими людьми, вам бывает необходимо обмениваться друг с другом папками с репозиториями. Это можно сделать через флэшку или по электронной почте, или через Google Диск. Но в реальной работе принято пользоваться более удобным вариантом - `удалённым репозиторием`.

Работать с удалённым репозиторием можно с помощью `GitHub`. `GitHub` - это сервис компании MicroSoft, который позволяет интегрироваться с программой `Git` и настроить  удалённую работу с репозиторием. Это не единственный сервис, но он популярен из-за своей доступности. На примере работы с `Github` ознакомимся с базовыми алгоритмами, необходимыми нам при работе с удалёнными репозиториями. 

### 11.1. Создание у себя на компьютере локального репозитория - копии удалённого, путём скачивания удалённого репозитория с сервиса GitHub (клонирование)
#### - зайдите на сайт `GitHub`, на этом сайте перейдите на страницу того человека, с чьим  репозиторием вы намерены работать, выберите нужный репозиторий и откройте страницу этого репозитория. На открывшейся странице в зелёной кнопке `Code` найдите и скопируйте адрес удалённого репозитория. Например, пусть это будет `https://github.com/ilnar-geekbrains/version_control_lection_3`;
#### - cозайте пустую папку для нового репозитория;
#### - запустите программу `Visual Studio Code`, запустите терминал; 
#### - при помощи команды `git status` убедитесть, что созданная папка не является репозиторием;
#### - командой `git clone адрес удалённого репозитория` создайте в этой папке локальный репозиторий, являющийся копией удалённого репозитория с сайта `GitHub`. В нашем примере эта команда будет записана так `git clone https://github.com/ilnar-geekbrains/version_control_lection_3`. 
Выполнив все эти действия вы сожете убедиться в том, что внутри вашей папки появились все те же файлы, которые вы видите на странице удалённого репозитория на `GitHub`.
#### - командой `cd имя папки` перейдите во вновь созданную папку внутри изначально выбранной папки. В данном примере эта команда будет выглядеть так: `cd version_controle_lesson_3`.
#### - при помощи команды `git status` убедитесь, что вы находитесь на изначально выбранной вами ветке во вновь созданном локальном репозитории - копии удалённого репозитория с сайта `GitHub`. 
Теперь у вас в `Visual Studio Code` есть интересующий вас документ и вы можете работать с этим документом: проверять, исправлять, дополнять и т.д. При помощи команд `git log` и `git log --graph` вы можете увидеть всю историю создания документа, как-будто вы сами создавали его на своём компьютере.

### 11.2. Создание удалённого репозитория - копии локального, путём загрузки локального репозитория на сервис GitHub
#### - создайте локальный репозиторий у себя на компьютере, закоммитте его;
#### - создайте свой аккаунт на сервисе `GitHub`, зайдите на свою страницу;
#### - находясь на своей странице, в правом верхнем углу в значке  `+`  выберите `New repository`. Так вы создадите на `GitHub` новый, пока что ещё пустой, удалённый репозиторий;
```
Далее есть три варианта. Вы можете: 
 - в только что созданном на `GitHub` удалённом репозитории начать вручную разрабатывать новый документ;
 - загрузить со своего компьютера какой-нибудь уже имеющийся локальный репозиторий, и удалённый репозиторий станет копией вашего локального; в таком случае говорят не `загрузить`, а `запушить`, по названию команды `git push`;
 - вы можете загрузить импортировать код из другого удалённого репозитория.
 ```
Разберём подробно второй вариант:
#### - в локальном репозитории, через терминал введите команду `git remote add origin адрес удалённого репозитория на GitHub`. На странице вашего удалённого репозитория скопируйте адрес удалённого репозитория. В нашем примере команда будет выглядеть так `git remote origin https://github.com/ilnar-geekbrains/test.git`. Таким образом вы задаёте программе `Git` на вашем компьютере адрес, куда он станет пушить локальный репозиторий;
#### - в локальном репозитории, через терминал введите команду `git branch -M main`, так вы указываете, какая ветка является главной;
#### - в локальном репозитории, через терминал введите команду `git push -u origin main`, так вы направите ваш проект из локального репозитория в удалённый репозиторий.
Если вы проводите эту операцию впервые, `GitHub` должен знать, что у вас есть права на внесение изменений в удалённы репозиторий, поэтому вам необходимо будет авторизоваться (`Visual Studio Code` выдаст инструкции, как это сделать.)
#### - зайдите на страничку удалённого репозитория на `GitHub` и убедитесь, что ваш проект, который раньше был только в локальном репозитории, теперь появился и в удалённом репозитории.
Теперь, на странице удалённого репозитория в зелёной кнопке `Code` найдите и скопируйте адрес этого удалённого репозитория. Любой человек, у которого есть эта ссылка, сможет сохранить ваш проект на свою страницу в `GitHub`, командой `git clone ` создать у себя на компьютере локальный репозиторий - копию удалённого, и работать с вашим проектом.

## 11.3. Разработка документа при использовании удалённого репозитория
#### - при работе в локальном репозитории вам нужно будет периодически добавлять в удалённый репозиторий все внесённые вами изменения. Это можно сделать при помощи уже известной вам команды `git push`. 
Внесите изменения в документ, закоммитте их, введите команду `git push`, и вы увидите, что на сайте `GitHub` на страничке удалённого репозитория появились все ваши изменения;
#### - с другой стороны, если вы поработаете с документом прямо на сайте `GitHub` или внесёте в документ изменения, работая на другом компьютере, закоммитите их и запушите на `GitHub`, то вы сможете загрузить их в свой локальный репозиторий, применив команду `git pull`. Команда `git pull` состоит из двух частей: она не только загружает изменения из удалённого репозитория на ваш компьютер, но и делает сливание того состояния документа, которое было на `GitHub`, с тем состоянием, которое у вас в локальном репозитории. 
На страничке в `GitHub` внесите изменения в документ, закоммитте их, находясь в локальном репозитории, командой `git pull` загрузите и слейте изменения в ваш документ. Вы увидите, что документ в локальном репозитории приобрёл все изменения, добавленные в удалённом репозитории. Вы сможете просмотреть журнал изменений и увидеть, кто и когда добавлял коммиты.

## 11.4. Работа с Pull request
Вы ознакомились с тем, как можно организовать совместную работу с документом нескольких человек, применяя удалённый репозиторий. Кроме очевидных преимуществ такой вариант работы несёт в себе и ряд опасностей. Например, какой-то участник группы при внесении изменений в документ  может испортить или удалить достигнутый ранее прогресс в работе с документом. Или другой вариант: внесённые каким-то участником группы  изменения могут не соответствовать представлению руководителя проекта или заказчика о том, каким они хотели бы видеть конечный результат. 
Поэтому в сервисе для работы с удалёнными репозиториями реализован следующий метод работы: 
```
- перед тем, как начать работать с чьим-то проектом вы делаете копию репозитория к себе на страницу; для этого в правом верхнем углу страницы есть кнопка `Fork`. Находясь на чужой странице `GitHub` в интересующем вас репозитории нажмите на кнопку `Fork`, и вы увидите что на вашей странице `GitHub` появилась точная копия того репозитория; 
- со своего аккаунта вы можете клонировать этот репозиторий к себе на компьютер и поработать с ним. 
```
- форкните чей-нибудь репозиторий к себе на страницу и склонируйте его к себе на компьютер, как это описано в разделе 11.1.;
- при помощи команды cd перейдите внутрь папки, в которой находится только что созданный локальный репозиторий;
- создайте отдельную ветку для своих изменений и перейдите на неё (так принято работать, все свои изменения делайте в отдельной ветке);
- создайте файл README.md - описание к проекту;
- вы изменили проект; закомитте изменения;
###
Теперь пришло время предложить внесённые вами изменения тому человеку, который владеет основным репозиторием. Делаем это так:
###
- запушьте изменения на вашем локальном репозитории в ваш удалённый репозиторий на вашей странице `GitHub`; так как мы находимся в другой ветке, используем команду `git push --set-upstream origin имя ветки`;
- в удалённом репозитории на вашей странице в `GitHub` проверьте наличие изменений;
-  предложите хозяину основного репозитория внести ваши изменения, нажав кнопку `Pull request` (вверху);
### 
Далее `GitHub` проанализирует ваши изменения, нет ли конфликтов, и разрешит внести изменения с добавлением комментария к ним. 
###
- добавьте комментарий к изменениям и нажмите кнопку `Create pull request` (Направить pull request).
###
 А владелец основного репозитория в дальнейшем сможет посмотреть ваши изменеия и влить их в свой проект  либо отклонить.